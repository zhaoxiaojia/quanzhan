<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACS: Device Info Porting Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ACS
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__DEVICE__INFO__PORTING__GUIDE.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Device Info Porting Guide<div class="ingroups"><a class="el" href="group__ACS__CORE__DOCS.html">ACS Core Docs</a> &raquo; <a class="el" href="group__PORTING__GUIDE.html">DPK Porting Guides</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Device Info Porting Guide:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__DEVICE__INFO__PORTING__GUIDE.png" border="0" alt="" usemap="#group____DEVICE____INFO____PORTING____GUIDE"/>
<map name="group____DEVICE____INFO____PORTING____GUIDE" id="group____DEVICE____INFO____PORTING____GUIDE">
<area shape="rect" id="node1" href="group__PORTING__GUIDE.html" title="DPK Porting Guides" alt="" coords="5,13,145,39"/>
</map>
</td></tr></table></center>
</div>
<ul>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_1">Background</a></li>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_2">Scope</a></li>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_3">Implementation details</a></li>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_4">Testing</a></li>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_5">Implementation example</a></li>
<li><a class="el" href="group__DEVICE__INFO__PORTING__GUIDE.html#device_info_port_6">Performance and Stability</a></li>
</ul>
<h1><a class="anchor" id="device_info_port_1"></a>
Background</h1>
<p>Device Info HAL provides access to Device Info data. Device Info HAL APIs provide read only access of device specific information (stored on device). Information related to device hardware and software build are defined and implemented in Device Info.</p>
<h1><a class="anchor" id="device_info_port_2"></a>
Scope</h1>
<p>There are three types of Device Info entries: 1P only, 1P and 3P, customized.</p><ol type="1">
<li>1P only: Device Info entries only used by 1P products.</li>
<li>1P and 3P: Device Info entries used by ACE middleware and can be used by 1P and 3P products.</li>
<li>customized: customized (3P) Device Info entries.</li>
</ol>
<h1><a class="anchor" id="device_info_port_3"></a>
Implementation details</h1>
<p>All the Device Info fields should be set during factory process or software build process.</p>
<p>A set of APIs that are used to get Device Info are specified:</p>
<ul>
<li>aceDeviceInfoDsHal_getEntry</li>
<li>aceDeviceInfoDsHal_getEntrySize</li>
</ul>
<p>Shared library name: libacehal_device_info</p>
<p>For detailed information on individual APIs, please refer to the <a class="el" href="group__ACE__HAL__DEVICE__INFO.html">API documentation</a>.</p>
<p>If an entry is not applicable or not implemented, it should be set to return ACE_STATUS_DEVICE_INFO_ENTRY_NOT_SUPPORTED. <br />
 </p>
<h1><a class="anchor" id="device_info_port_4"></a>
Testing</h1>
<p>Run Device Info HAL test to make sure to pass all Device Info HAL tests. <br />
 </p>
<h1><a class="anchor" id="device_info_port_5"></a>
Implementation example</h1>
<p>[A mapping table can be defined] <br />
</p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div><div class="line">    (Build information),</div><div class="line">    (Hardware information),</div><div class="line">    (more sources...)</div><div class="line">} device_info_source_t;</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    device_info_source_t type;</div><div class="line">    <span class="keywordtype">char</span>* name;</div><div class="line">} mapping_table_t;</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> mapping_table_t entry_mapping_table[] = {</div><div class="line">    {(Build information), OS_VERSION_VALUE},</div><div class="line">    {(Build information), VERSION_NUMBER_VALUE},</div><div class="line">    (more entries...)</div><div class="line">    {(Hardware information), DEVICE_SERIAL_VALUE},</div><div class="line">    {(Hardware information), DEVICE_TYPE_ID_VALUE},</div><div class="line">    {(Hardware information), WIFI_MAC_VALUE},</div><div class="line">    (more entries...)</div><div class="line">}</div></div><!-- fragment --><p>[Build information can be generated in compile time] <br />
CFLAGS += -DOS_VERSION_VALUE=xxxx <br />
CFLAGS += -DVERSION_NUMBER_VALUE=xxxx <br />
...</p>
<p>[Hardware information can be written to KV Storage (persistent partition) during factory process] <br />
[Or it can be written to files in some persistent/read-only location]</p>
<h1><a class="anchor" id="device_info_port_6"></a>
Performance and Stability</h1>
<ol type="1">
<li>Device Info access latency should meet the system or application level requirements of the product. <br />
</li>
<li>Device Info should be persistent and also should not be erased during factory reset. </li>
</ol>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
